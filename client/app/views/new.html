<div class="maincontent" ng-hide="vm.isAuthenticated()">
    <h3>Please log in.<h3>
</div>

<div class="add-form" layout="column" flex="grow" ng-show="vm.isAuthenticated()">
    <div class="alert alert-dismissible alert-danger" ng-show="vm.message.length">
        <strong>Oh snap!</strong>
        <p>{{vm.message}}</p>
    </div>
    <div layout="column" flex-offset="5">
        <div hide-xs class="newheader">
            <h3>New mail</h3>
        </div>
        <div layout="column">
            <form name="composeform" novalidate ng-submit="composeform.$valid && vm.send()">
                <fieldset layout='column' flex="90">
                    <md-input-container>
                        <label>To</label>
                        <md-chips
                            placeholder="email adresses"
                            ng-model="vm.mail.contacts"
                            md-separator-keys="vm.separators"></md-chips>
                        </md-content>
                    </md-input-container>
                    <md-input-container>
                        <label>Subject</label>
                        <input ng-model="vm.mail.subject" required></input>
                    </md-input-container>
                    <md-input-container>
                        <label>Content</label>
                        <textarea ng-model="vm.mail.message" rows="8"></textarea>
                    </md-input-container>
                    <md-input-container>
                        <md-button ng-hide="vm.loading" class="md-primary md-raised vcenter" type="sumbit">Send</md-button>
                        <span ng-show="vm.loading"><i class="fa fa-cog fa-spin fa-3x spin vcenter"></i></span>
                    </md-input-container>
                </fieldset>
            </form>
        </div>
    </div>
</div>
